<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> FindMyPlace - Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/frontend/css/styles.css">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <a class="navbar-brand ms-3" href="javascript:void(0);" onclick="scrollToTop()">FindMyPlace</a>        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="#about" onclick="navigateTo(event, 'about')">About Us</a></li>
                <li class="nav-item"><a class="nav-link" href="#listings" onclick="navigateTo(event, 'listings')">Listings</a></li>
                <li class="nav-item"><a class="nav-link" href="#" id="add-listing-button">Add New Listing</a></li>
                <li class="nav-item"><a class="nav-link" href="#contact" onclick="navigateTo(event, 'contact')">Contact</a></li>
                <li class="nav-item">
                    <a class="nav-link" href="#" id="login-button">Login / Register</a>
                </li>                
            </ul>
        </div>
    </nav>

    <header id="home" class="text-center bg-primary text-white py-5">
        <p></p>
        <div class="btn-container">
            <a href="#learn-more" class="btn btn-light">Learn more</a>
            <a href="#listings" class="btn btn-light">View Listings</a>
        </div>
    </header>    

    <section id="listings" class="container text-center page-section">
        <h2>Find your dream home</h2>
        <p>Connecting you with the perfect property for your loved ones</p>
        <!-- Search bar -->
        <div class="mb-4">
            <input type="text" class="form-control" id="searchBar" placeholder="Search for a property...">
        </div>
        <div class="row" id="houseListings">
            <!-- House 1 -->
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house1.jpg" class="card-img-top" alt="House 1">
                    <div class="card-body">
                        <h5 class="card-title">$250,000,000</h5>
                        <p class="card-text">New York, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse1">View Details</button>
                    </div>
                </div>
            </div>
    
            <!-- House 2 -->
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house2.jpg" class="card-img-top" alt="House 2">
                    <div class="card-body">
                        <h5 class="card-title">$177,000,000</h5>
                        <p class="card-text">Los Angeles, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse2">View Details</button>
                    </div>
                </div>
            </div>
    
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house3.jpg" class="card-img-top" alt="House 3">
                    <div class="card-body">
                        <h5 class="card-title">$399,000</h5>
                        <p class="card-text">Chicago, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse3">View Details</button>
                    </div>
                </div>
            </div>
    
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house4.jpg" class="card-img-top" alt="House 4">
                    <div class="card-body">
                        <h5 class="card-title">$150,000,000</h5>
                        <p class="card-text">Miami, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse4">View Details</button>
                    </div>
                </div>
            </div>
    
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house5.jpg" class="card-img-top" alt="House 5">
                    <div class="card-body">
                        <h5 class="card-title">$64,000,000</h5>
                        <p class="card-text">Dallas, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse5">View Details</button>
                    </div>
                </div>
            </div>
    
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house6.jpg" class="card-img-top" alt="House 6">
                    <div class="card-body">
                        <h5 class="card-title">$38,000,000</h5>
                        <p class="card-text">San Francisco, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse6">View Details</button>
                    </div>
                </div>
            </div>
    
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house7.jpg" class="card-img-top" alt="House 7">
                    <div class="card-body">
                        <h5 class="card-title">$17,500,000</h5>
                        <p class="card-text">Seattle, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse7">View Details</button>
                    </div>
                </div>
            </div>
    
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house8.jpg" class="card-img-top" alt="House 8">
                    <div class="card-body">
                        <h5 class="card-title">$9,000,000</h5>
                        <p class="card-text">Austin, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse8">View Details</button>
                    </div>
                </div>
            </div>
    
            <div class="col-md-4 mb-4 house-item">
                <div class="card">
                    <img src="/frontend/static/images/house9.jpg" class="card-img-top" alt="House 9">
                    <div class="card-body">
                        <h5 class="card-title">$949,000</h5>
                        <p class="card-text">Boston, USA</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalHouse9">View Details</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Add Listing Section -->
<section id="add-new-listing" class="container text-center page-section hidden">
    <h2>Add New Listing</h2>

    <form id="listing-form" class="w-50 mx-auto">
        <!-- Photo Upload -->
        <div class="mb-3">
            <label for="listing-photo" class="form-label">Upload Photo</label>
            <input type="file" id="listing-photo" class="form-control" accept="image/*" required>
            <img id="preview-image" class="mt-2 hidden" style="max-width: 100%; height: auto; border-radius: 10px;">
        </div>

        <!-- Title -->
        <div class="mb-3">
            <input type="text" id="listing-title" class="form-control" placeholder="Listing Title" required>
        </div>

        <!-- Details -->
        <div class="mb-3">
            <textarea id="listing-details" class="form-control" placeholder="Listing Details" rows="3" required></textarea>
        </div>

        <!-- Price -->
        <div class="mb-3">
            <input type="number" id="listing-price" class="form-control" placeholder="Price ($)" required>
        </div>

        <!-- Location -->
        <div class="mb-3">
            <input type="text" id="listing-location" class="form-control" placeholder="Location" required>
        </div>

        <!-- Error Message -->
        <p id="listing-error" class="text-danger"></p>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-success">Submit Listing</button>
    </form>

    <!-- Back Button -->
    <button id="back-to-home" class="btn btn-secondary mt-3">Back to Home</button>
</section>

    <section id="about" class="container text-center page-section">
        <div class="about-box d-flex align-items-center"> 
            <div class="row">
                <!-- Left side: Text and Stats -->
                <div class="col-md-6">
                    <div class="d-flex flex-column align-items-start">
                        <h2>Empowering 100 Million Dreams, One Home at a Time</h2>
                        <p>No filters, no hassle‚Äîjust you and the listing agent, the ultimate expert.</p>
                        <div class="about-image-container">
                            <img src="/frontend/static/images/people.jpg" alt="People Image" class="people-image">
                        </div>                        
                        <div class="row mt-4 justify-content-center">
                            <div class="col-4"><h3>100M</h3><p>Happy buyers</p></div>
                            <div class="col-4"><h3>40M</h3><p>Client reviews</p></div>
                            <div class="col-4"><h3>4.6</h3><p>Positive Rating</p></div>
                        </div>
                    </div>
                </div>
    
                <!-- Right side: Logos and Text -->
                <div class="right-section">
                    <div>
                        <img src="/frontend/static/images/logo1.png" alt="Explore">
                        <h2>Explore Great Neighborhoods</h2>
                        <p>Discover the best communities with top-rated schools, parks, and local amenities that fit your lifestyle.</p>
                    </div>
                    <div>
                        <img src="/frontend/static/images/logo2.png" alt="Highly Rated">
                        <h2>Find Highly Rated Best Properties</h2>
                        <p>Browse through a selection of top-rated homes, vetted by experts and loved by homeowners.</p>
                    </div>
                    <div>
                        <img src="/frontend/static/images/logo3.png" alt="Condo">
                        <h2>Discover Condo Quality Buildings</h2>
                        <p>Explore modern, high-quality condo buildings with premium amenities and excellent locations.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="learn-more" class="container text-center page-section">
        <h2 class="mb-4">üè° Learn More About Property Ownership</h2>
        <p class="mb-5">Understanding the rules and regulations before buying a property is essential. Below are key aspects to consider:</p>
        <div class="row text-start">
            <!-- Property Types & Ownership Rights -->
            <div class="col-md-6 mb-4">
                <h3>üè¢ Property Types & Ownership Rights</h3>
                <ul>
                    <li><strong>üõ£Ô∏è Land Ownership vs. Land Lease</strong> ‚Äì Own the land vs. leasing it for a fixed period.</li>
                    <li><strong>üè† Property Status</strong> ‚Äì Choose between for-sale, for-rent, or rent-to-own options.</li>
                </ul>
                <div class="hidden-details">
                    <p><strong>Land Ownership:</strong> Full rights over the land and property built on it.</p>
                    <p><strong>Land Lease:</strong> You lease the land for a fixed time, usually 50‚Äì99 years.</p>
                    <p><strong>For Sale vs. Rent:</strong> Consider long-term financial implications before choosing.</p>
                </div>
            </div>
    
            <!-- Legal & Regulatory Considerations -->
            <div class="col-md-6 mb-4">
                <h3>üìú Legal & Regulatory Considerations</h3>
                <ul>
                    <li><strong>üèõÔ∏è Property Regulations & Zoning Laws</strong> ‚Äì Residential vs. commercial use.</li>
                    <li><strong>üè¢ HOA Rules</strong> ‚Äì Covers maintenance, restrictions, and fees.</li>
                    <li><strong>üíµ Property Taxes & Insurance</strong> ‚Äì Annual taxes, required home insurance.</li>
                </ul>
                <div class="hidden-details">
                    <p><strong>Zoning Laws:</strong> Ensure the property is zoned for your intended use.</p>
                    <p><strong>HOA Fees:</strong> Monthly/annual fees for amenities and maintenance.</p>
                    <p><strong>Property Taxes:</strong> Varies by location and property value.</p>
                </div>
            </div>
    
            <!-- Age-Restricted & Lifestyle Communities -->
            <div class="col-md-6 mb-4">
                <h3>üë• Age-Restricted & Lifestyle Communities</h3>
                <ul>
                    <li><strong>üè° 55+ Senior Living</strong> ‚Äì At least one resident must be 55+.</li>
                    <li><strong>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family-Friendly</strong> ‚Äì Schools, parks, and child-friendly amenities.</li>
                    <li><strong>üéì Student Housing</strong> ‚Äì Lease terms tied to academic schedules.</li>
                </ul>
                <div class="hidden-details">
                    <p><strong>55+ Communities:</strong> Designed for active seniors with age restrictions.</p>
                    <p><strong>Family-Friendly:</strong> Proximity to schools, parks, and low-crime areas.</p>
                    <p><strong>Student Housing:</strong> Leases aligned with semester schedules.</p>
                </div>
            </div>
    
            <!-- Specialized Property Regulations -->
            <div class="col-md-6 mb-4">
                <h3>üìå Specialized Property Regulations</h3>
                <ul>
                    <li><strong>üåç Eco-Friendly Communities</strong> ‚Äì Focus on sustainability and green energy.</li>
                    <li><strong>üê∂ Pet-Friendly vs. Restricted</strong> ‚Äì Some properties limit pets or certain breeds.</li>
                </ul>
                <div class="hidden-details">
                    <p><strong>Eco-Friendly Homes:</strong> Solar panels, energy-efficient appliances, green certifications.</p>
                    <p><strong>Pet Restrictions:</strong> Some communities ban certain breeds or large pets.</p>
                </div>
            </div>
        </div>
    
        <!-- Learn More Button -->
        <button id="toggle-details" class="btn btn-primary mt-4">Show More</button>
    </section>
    
    <section id="contact" class="container text-center page-section">
        <h2>Contact</h2>
        <p>Get in touch with us for inquiries.</p>
        <form class="w-50 mx-auto" id="contact-form">
            <div class="mb-3">
                <input type="text" class="form-control" placeholder="Your Name" id="name">
                <div id="name-error" class="text-danger"></div> <!-- Error message -->
            </div>
            <div class="mb-3">
                <input type="email" class="form-control" placeholder="Your Email" id="email">
                <div id="email-error" class="text-danger"></div> <!-- Error message -->
            </div>
            <div class="mb-3">
                <textarea class="form-control" rows="3" placeholder="Your Message" id="message"></textarea>
                <div id="message-error" class="text-danger"></div> <!-- Error message -->
            </div>
            <button type="submit" class="btn btn-primary">Send Message</button>
        </form>
        <div id="success-message" class="text-success mt-3" style="display: none;">
            <p>Message successfully sent! We will reach out as soon as possible.</p>
        </div>
    </section>

    <section id="login-register" class="container text-center page-section hidden">
        <h2>Login / Register</h2>
    
        <!-- Login Form -->
        <div id="login-form">
            <h3>Login</h3>
            <form class="w-50 mx-auto">
                <div class="mb-3"><input type="email" class="form-control" placeholder="Email" required></div>
                <div class="mb-3"><input type="password" class="form-control" placeholder="Password" required></div>
                <button type="submit" class="btn btn-primary">Login</button>
            </form>
            <p class="mt-3">Don't have an account? <a href="#" id="show-register">Register here</a></p>
        </div>
    
        <!-- Register Form (Initially Hidden) -->
        <div id="register-form" class="hidden">
            <h3>Register</h3>
            <form id="registration-form" class="w-50 mx-auto">
                <div class="mb-3"><input type="text" class="form-control" placeholder="Full Name" required></div>
                <div class="mb-3"><input type="email" class="form-control" placeholder="Email" required></div>
                <div class="mb-3"><input type="password" id="password" class="form-control" placeholder="Password" required></div>
                <div class="mb-3"><input type="password" id="confirm-password" class="form-control" placeholder="Confirm Password" required></div>
                <p id="password-error" class="text-danger"></p> <!-- Error message here -->
                <button type="submit" class="btn btn-success">Register</button>
            </form>
            <p class="mt-3">Already have an account? <a href="#" id="show-login">Login here</a></p>
        </div>
        
    
        <!-- Back Button -->
        <button id="back-button" class="btn btn-secondary mt-3">Back to Home</button>
    </section>    

    <footer class="bg-dark text-white text-center py-4">
        <p>&copy; 2025 FindMyPlace üè°ü§ç. All rights reserved.</p>
    </footer>
    <script>
        const currentUser = {
        username: "berina",
        role: "seller" // or "admin"
        };

        document.addEventListener("DOMContentLoaded", function () {
            const navbarCollapse = document.querySelector(".navbar-collapse");
    
            // Function to smooth scroll to the section without hiding others
            function navigateTo(event, sectionId) {
                event.preventDefault();
    
                // Scroll to the target section smoothly
                const targetSection = document.getElementById(sectionId);
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
    
                // Close mobile navbar if open
                if (navbarCollapse.classList.contains("show")) {
                    new bootstrap.Collapse(navbarCollapse).hide();
                }
    
                // Update URL hash
                history.pushState(null, null, `#${sectionId}`);
            }
    
            // Function to scroll to the top of the page
            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
    
            // Attached event listener to the "FindMyPlace" text for scrolling to the top
            const logoText = document.querySelector('.navbar-brand');
            if (logoText) {
                logoText.addEventListener('click', function () {
                    scrollToTop(); // Scroll to the top when the text is clicked
                });
            }
    
            // Attach event listeners to nav links for smooth scroll navigation
            const navLinks = document.querySelectorAll('a.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function (event) {
                    const sectionId = link.getAttribute('href').substring(1);
                    navigateTo(event, sectionId);
                });
            });
        });
        document.addEventListener("DOMContentLoaded", function () {
    const loginButton = document.getElementById("login-button");
    const loginSection = document.getElementById("login-register");
    const backButton = document.getElementById("back-button");
    const allSections = document.querySelectorAll("section:not(#login-register)");

    const loginForm = document.getElementById("login-form");
    const registerForm = document.getElementById("register-form");
    const showRegister = document.getElementById("show-register");
    const showLogin = document.getElementById("show-login");

    // Show Login/Register Section & Hide Everything Else
    if (loginButton) {
        loginButton.addEventListener("click", function (event) {
            event.preventDefault();
            allSections.forEach(section => section.classList.add("hidden"));
            loginSection.classList.remove("hidden");
        });
    }

    // Show Register Form & Hide Login Form
    if (showRegister) {
        showRegister.addEventListener("click", function (event) {
            event.preventDefault();
            loginForm.classList.add("hidden");
            registerForm.classList.remove("hidden");
        });
    }

    // Show Login Form & Hide Register Form
    if (showLogin) {
        showLogin.addEventListener("click", function (event) {
            event.preventDefault();
            registerForm.classList.add("hidden");
            loginForm.classList.remove("hidden");
        });
    }

    // Back to Home
    if (backButton) {
        backButton.addEventListener("click", function () {
            allSections.forEach(section => section.classList.remove("hidden"));
            loginSection.classList.add("hidden");
        });
    }
});
document.addEventListener("DOMContentLoaded", function () {
    const toggleButton = document.getElementById("toggle-details");
    const details = document.querySelectorAll(".hidden-details");
    let isExpanded = false;

    toggleButton.addEventListener("click", function () {
        details.forEach(detail => {
            detail.style.display = isExpanded ? "none" : "block";
        });

        toggleButton.textContent = isExpanded ? "Show More" : "Show Less";
        isExpanded = !isExpanded;
    });
});
document.addEventListener("DOMContentLoaded", function () {
    const registerForm = document.getElementById("registration-form");
    const passwordInput = document.getElementById("password");
    const confirmPasswordInput = document.getElementById("confirm-password");
    const passwordError = document.getElementById("password-error");

    registerForm.addEventListener("submit", function (event) {
        if (passwordInput.value !== confirmPasswordInput.value) {
            event.preventDefault(); // Prevent form submission
            passwordError.textContent = "‚ùå Passwords do not match!"; // Show error message
        } else {
            passwordError.textContent = ""; // Clear error if matched
        }
    });
});
document.addEventListener("DOMContentLoaded", function () {
    const listingButton = document.getElementById("add-listing-button");
    const listingSection = document.getElementById("add-new-listing");
    const backToHomeButton = document.getElementById("back-to-home");
    const allSections = document.querySelectorAll("section:not(#add-new-listing)");
    const listingsContainer = document.getElementById("listings-container");
    const loginRegisterSection = document.getElementById("login-register"); 

    const listingForm = document.getElementById("listing-form");
    const titleInput = document.getElementById("listing-title");
    const detailsInput = document.getElementById("listing-details");
    const priceInput = document.getElementById("listing-price");
    const locationInput = document.getElementById("listing-location");
    const photoInput = document.getElementById("listing-photo");
    const previewImage = document.getElementById("preview-image");
    const listingError = document.getElementById("listing-error");

    // Show "Add Listing" form & hide other sections
    listingButton.addEventListener("click", function (event) {
        event.preventDefault();
        allSections.forEach(section => section.classList.add("hidden"));
        listingSection.classList.remove("hidden");
    });

    // Back to home
    backToHomeButton.addEventListener("click", function () {
        // Hide all sections (including login-register section)
        allSections.forEach(section => section.classList.remove("hidden"));
        listingSection.classList.add("hidden");

        // Explicitly hide the login-register section
        if (loginRegisterSection) {
            loginRegisterSection.classList.add("hidden");
            console.log("Login/Register section explicitly hidden.");
        }
    });

    // Show image preview before submission
    photoInput.addEventListener("change", function () {
        const file = photoInput.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                previewImage.src = e.target.result;
                previewImage.classList.remove("hidden");
            };
            reader.readAsDataURL(file);
        }
    });

    // Validate and submit form
    listingForm.addEventListener("submit", function (event) {
        event.preventDefault();

        if (
            titleInput.value.trim() === "" ||
            detailsInput.value.trim() === "" ||
            priceInput.value.trim() === "" ||
            locationInput.value.trim() === "" ||
            !photoInput.files.length
        ) {
            listingError.textContent = "‚ùå Please fill out all fields and upload a photo.";
            return;
        }

        // Create new listing card
        const newListing = document.createElement("div");
        newListing.classList.add("col-md-4");

        newListing.innerHTML = `
            <div class="card shadow-sm">
                <img src="${previewImage.src}" class="card-img-top" alt="Listing Image">
                <div class="card-body">
                    <h5 class="card-title">$${priceInput.value}</h5>
                    <p><strong>${titleInput.value}</strong></p>
                    <p>${detailsInput.value}</p>
                    <p><strong>Location:</strong> ${locationInput.value}</p>
                </div>
            </div>
        `;

        // Append new listing
        listingsContainer.appendChild(newListing);

        // Reset form & go back to listings
        listingForm.reset();
        previewImage.classList.add("hidden");
        listingError.textContent = "";
        backToHomeButton.click();
    });
});

        document.getElementById('searchBar').addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();  // Get the value of the search bar
        const houseItems = document.querySelectorAll('.col-md-4');  // Get all house items
        houseItems.forEach(function(item) {
            const title = item.querySelector('.card-title').textContent.toLowerCase();  // Get title text 
            const location = item.querySelector('.card-text').textContent.toLowerCase();  // Get location text 

            // Check if either the title or location includes the search term
            if (title.includes(searchTerm) || location.includes(searchTerm)) {
                item.style.display = 'block';  // Show the item if it matches the search term
            } else {
                item.style.display = 'none';  // Hide the item if it doesn't match
            }
        });
    });
    document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("contact-form");
    const nameInput = document.getElementById("name");
    const emailInput = document.getElementById("email");
    const messageInput = document.getElementById("message");
    const nameError = document.getElementById("name-error");
    const emailError = document.getElementById("email-error");
    const messageError = document.getElementById("message-error");
    const successMessage = document.getElementById("success-message");

    form.addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent form submission

        // Reset error messages
        nameError.textContent = "";
        emailError.textContent = "";
        messageError.textContent = "";

        let isValid = true;

        // Validate Name
        if (nameInput.value.trim() === "") {
            nameError.textContent = "Please fill out this field.";
            isValid = false;
        }

        // Validate Email
        if (emailInput.value.trim() === "") {
            emailError.textContent = "Please fill out this field.";
            isValid = false;
        }

        // Validate Message
        if (messageInput.value.trim() === "") {
            messageError.textContent = "Please fill out this field.";
            isValid = false;
        }

        // If form is valid, show success message
        if (isValid) {
            successMessage.style.display = "block";
            
            // Hide success message after 5 seconds (5000 ms)
            setTimeout(function() {
                successMessage.style.display = "none";
            }, 5000);
            
            form.reset();
        }
    });
     // Role-based permission for listing form submission
     document.getElementById('listing-form').addEventListener('submit', (e) => {
        const allowedRoles = ['seller', 'admin'];
        if (!window.currentUser || !allowedRoles.includes(window.currentUser.role)) {
            e.preventDefault();
            document.getElementById('listing-error').textContent = "You do not have permission to add a listing.";
            return false;
        }
    });

    // Show/hide add listing button and handle its click/back buttons
    document.addEventListener('DOMContentLoaded', () => {
        const addListingButton = document.getElementById('add-listing-button');
        const backToHomeButton = document.getElementById('back-to-home');
        const allowedRoles = ['seller', 'admin'];

        // Use your existing currentUser object or fallback to window.currentUser
        const user = window.currentUser || currentUser;

        if (user && allowedRoles.includes(user.role)) {
            addListingButton.style.display = 'block';
        } else {
            addListingButton.style.display = 'none';
        }

        addListingButton.addEventListener('click', (e) => {
            e.preventDefault();
            showAddListingSection();
        });

        backToHomeButton.addEventListener('click', () => {
            hideAddListingSection();
        });
    });

    function showAddListingSection() {
        document.getElementById('add-new-listing').classList.remove('hidden');
        document.querySelectorAll('section').forEach(section => {
            if (section.id !== 'add-new-listing') {
                section.classList.add('hidden');
            }
        });
    }

    function hideAddListingSection() {
        document.getElementById('add-new-listing').classList.add('hidden');
        document.querySelectorAll('section').forEach(section => section.classList.remove('hidden'));
    }
});
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
   <!-- Modal for House 1 -->
    <div class="modal fade" id="modalHouse1" tabindex="-1" aria-labelledby="modalHouse1Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse1Label">House in New York, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                    <img src="/frontend/static/images/house1.jpg" class="img-fluid mb-3" alt="House 1">
                </div>
                <p><strong>Price:</strong> $250,000,000</p>
                <p><strong>Location:</strong> New York, USA</p>
                <p><strong>Description:</strong> This grand estate 6-bedroom house located in the heart of NYC boasts intricate architectural details, a gated entrance, and luxurious interiors. Perfect for those seeking sophistication and prestige.</p>
    
                <!-- Contact Form -->
                <h5>Contact Agent</h5>
                <form id="contactFormHouse1">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse1" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
    
    <!-- Modal for House 2 -->
    <div class="modal fade" id="modalHouse2" tabindex="-1" aria-labelledby="modalHouse2Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse2Label">House in Los Angeles, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                <img src="/frontend/static/images/house2.jpg" class="img-fluid mb-3" alt="House 2">
                </div>
                <p><strong>Price:</strong> $177,000,000</p>
                <p><strong>Location:</strong> Los Angeles, USA</p>
                <p><strong>Description:</strong> A stunning 4-bedroom contemporary home featuring open-concept living, floor-to-ceiling windows, a resort-style infinity pool, and seamless indoor-outdoor flow in a prime location.</p>
    
                <!-- Contact Form -->
                <h5>Contact Agent</h5>
                <form id="contactFormHouse2">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse2" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
    <!-- Modal for House 3 -->
    <div class="modal fade" id="modalHouse3" tabindex="-1" aria-labelledby="modalHouse3Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse3Label">House in Chicago, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                <img src="/frontend/static/images/house3.jpg" class="img-fluid mb-3" alt="House 3">
                </div>
                <p><strong>Price:</strong> $399,000</p>
                <p><strong>Location:</strong> Chicago, USA</p>
                <p><strong>Description:</strong> Beautiful 2-bedroom updated home with classic curb appeal, a welcoming front porch, warm interiors, and lush landscaping‚Äîideal for modern living with historic charm.</p>
                
                <h5>Contact Agent</h5>
                <form id="contactFormHouse3">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse2" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
    
    <!-- Modal for House 4 -->
    <div class="modal fade" id="modalHouse4" tabindex="-1" aria-labelledby="modalHouse4Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse4Label">House in Miami, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                <img src="/frontend/static/images/house4.jpg" class="img-fluid mb-3" alt="House 4">
                </div>
                <p><strong>Price:</strong> $150,000,000</p>
                <p><strong>Location:</strong> Miami, USA</p>
                <p><strong>Description:</strong> A stunning 3-bedroom modern estate featuring an expansive outdoor area, sleek architecture, and resort-style living.</p>
    
                <h5>Contact Agent</h5>
                <form id="contactFormHouse4">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse2" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
    
    <!-- Modal for House 5 -->
    <div class="modal fade" id="modalHouse5" tabindex="-1" aria-labelledby="modalHouse5Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse5Label">House in Dallas, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                <img src="/frontend/static/images/house5.jpg" class="img-fluid mb-3" alt="House 5">
                </div>
                <p><strong>Price:</strong> $64,000,000</p>
                <p><strong>Location:</strong> Dallas, USA</p>
                <p><strong>Description:</strong> A contemporary 4-bedroom masterpiece with striking curb appeal, high-end finishes, and a seamless indoor-outdoor flow.</p>
    
                <h5>Contact Agent</h5>
                <form id="contactFormHouse5">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse2" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
    
    <!-- Modal for House 6 -->
    <div class="modal fade" id="modalHouse6" tabindex="-1" aria-labelledby="modalHouse6Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse6Label">House in San Francisco, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                <img src="/frontend/static/images/house6.jpg" class="img-fluid mb-3" alt="House 6">
                </div>
                <p><strong>Price:</strong> $38,000,000</p>
                <p><strong>Location:</strong> San Francisco, USA</p>
                <p><strong>Description:</strong> A 4-bedroom unique blend of classic and contemporary design, offering breathtaking views and sustainable features.</p>
    
                <h5>Contact Agent</h5>
                <form id="contactFormHouse6">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse2" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
    
    <!-- Modal for House 7 -->
    <div class="modal fade" id="modalHouse7" tabindex="-1" aria-labelledby="modalHouse7Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse7Label">House in Seattle, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                <img src="/frontend/static/images/house7.jpg" class="img-fluid mb-3" alt="House 7">
                </div>
                <p><strong>Price:</strong> $17,500,000</p>
                <p><strong>Location:</strong> Seattle, USA</p>
                <p><strong>Description:</strong> A 7-bedroom sleek, contemporary masterpiece featuring floor-to-ceiling windows, expansive balconies, and high-end finishes.</p>
    
                <h5>Contact Agent</h5>
                <form id="contactFormHouse7">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse2" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
    
    <!-- Modal for House 8 -->
    <div class="modal fade" id="modalHouse8" tabindex="-1" aria-labelledby="modalHouse8Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse8Label">House in Austin, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                <img src="/frontend/static/images/house8.jpg" class="img-fluid mb-3" alt="House 8">
                </div>
                <p><strong>Price:</strong> $9,000,000</p>
                <p><strong>Location:</strong> Austin, USA</p>
                <p><strong>Description:</strong> A beautifully designed 3-bedroom one-story home with a spacious open layout, manicured landscaping, and a peaceful setting.</p>
    
                <h5>Contact Agent</h5>
                <form id="contactFormHouse8">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse2" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
    
    <!-- Modal for House 9 -->
    <div class="modal fade" id="modalHouse9" tabindex="-1" aria-labelledby="modalHouse9Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalHouse9Label">House in Boston, USA</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                <img src="/frontend/static/images/house9.jpg" class="img-fluid mb-3" alt="House 9">
                </div>
                <p><strong>Price:</strong> $949,000</p>
                <p><strong>Location:</strong> Boston, USA</p>
                <p><strong>Description:</strong> A grand, 10-bedroom traditional home with a stately presence, charming shutters, and a luxurious circular driveway.</p>
    
                <h5>Contact Agent</h5>
                <form id="contactFormHouse9">
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" placeholder="Your Email" required>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" rows="3" placeholder="Your Message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Send Inquiry</button>
                </form>
                <div id="successMessageHouse2" class="mt-3 text-success" style="display: none;">Your inquiry has been sent!</div>
            </div>
        </div>
    </div>
    </div>
</body>
</html>